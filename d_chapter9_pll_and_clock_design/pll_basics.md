# 🔧 `pll_basics.md` – PLLの基本構造と動作原理

---

## 📘 概要

PLL（Phase-Locked Loop）は、基準信号（通常は外部クロック）に対して**位相と周波数を一致させる回路構成**であり、SoC/ASIC内の内部クロック生成に広く使用されます。

以下では、PLLの基本構成、各ブロックの役割、および周波数合成の基本動作について解説します。

---

## 🧱 PLLの基本構成

典型的なPLLは、以下の5つの主要ブロックで構成されます：

1. `PFD`（Phase Frequency Detector）：位相差と周波数差を検出
2. `CP`（Charge Pump）：差に応じて電流を出力
3. `LPF`（Loop Filter）：高周波成分を除去し制御電圧を生成
4. `VCO`（Voltage Controlled Oscillator）：電圧に応じて発振周波数を変化
5. `Divider`（分周器）：VCO出力を分周しPFDに戻す

```text
    +------+     +------+     +------+     +------+     +--------+
    | Ref  | --> |  PFD | --> |  CP  | --> | LPF  | --> |  VCO   |
    | Clock|     +------+     +------+     +------+     +---+----+
     ↑                                                  |
     |                                                  ↓
    +--------------------------------------------------+
    |                   Divider (÷N)                   |
    +--------------------------------------------------+

```

---

## 🔄 周波数合成の原理

- PLLは、基準信号とVCO出力の `位相差` を最小化するようループ制御します。
- 分周器（÷N）を用いることで、`N倍の周波数` を出力することが可能です。
- 出力周波数は以下の関係で与えられます：

```math
f_{out} = N \times f_{ref}
```

- たとえば、外部クロックが 25MHz で、N = 20 のとき、出力は 500MHz になります。
- 電源電圧や温度の変動にも自動で追従する安定な周波数合成器として働きます。

 
