# 5.5 DFM設計：量産対応のためのレイアウト指針

## 🎯 本節の目的

- DFM（Design for Manufacturability）の基本概念を理解する  
- 製造ばらつきや歩留まりに配慮した設計ルールと実践指針を学ぶ  
- Sky130 PDKにおけるDFM対応のための具体的なレイアウト工夫を把握する

---

## 🧪 DFMとは？

DFMは、設計が製造工程で再現可能であり、  
歩留まりと信頼性を確保できるように**設計段階から配慮する手法**です。

---

## 🧩 代表的なDFM課題と設計対策

| 課題 | 設計対策 |
|------|----------|
| 配線ピッチ過小 | 十分なメタル間隔を確保、metal spacingルール強化 |
| via信頼性不足 | viaの冗長配置（double via）を推奨 |
| コンポーネントの熱集中 | 発熱源分散、GND/VDD配線の厚み増強 |
| 過度なセル密度 | コア密度(`FP_CORE_UTIL`)を低めに設定 |
| エッジ影響 | boundary処理（Well Tapやフィラーセル配置）を徹底 |

---

## 🔍 Sky130でのDFM支援項目（例）

- `sky130_fd_sc_hd`：高歩留まり標準セル（well tap含む）
- `well_tap_placement`：OpenLaneフローで自動配置可能
- `antenna rule`：メタル過剰露出による製造破壊対策
- `fill cell`：配線密度均一化のためのダミーセル挿入

---

## 🛠️ OpenLane設定の工夫（DFM向け）

| パラメータ | 意味 | 推奨設定例 |
|------------|------|------------|
| `FP_CORE_UTIL` | 論理セル密度 | 0.35〜0.5程度に抑える |
| `PL_TARGET_DENSITY` | 目標配置密度 | 0.5〜0.6でDRC緩和 |
| `GRT_ALLOW_CONGESTION` | 配線混雑許容 | `1`にすると冗長ルーティング回避 |

---

## ✅ 本節まとめ

- DFMは**製造性と信頼性を両立するための設計文化**  
- Sky130 PDKはDFM支援要素が多数含まれており、積極的に活用すべき  
- 設計パラメータやレイアウト配置は、DFMの視点で意識して調整が必要

---

👉 [5.6 チップ完成に向けた最終検証ステップ](5_6_final_check.md)
