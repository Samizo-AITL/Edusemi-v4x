# 🗂️ 3D NANDフラッシュメモリ

---

## 📘 概要

3D NANDは、**不揮発・大容量・低コスト**を実現したストレージ用メモリ技術です。  
従来の2D NANDでは微細化限界と信頼性問題が顕在化したため、**垂直方向への積層構造（3D化）**によりスケーリングが続けられています。

- SSD、eMMC、UFSなどのストレージデバイスに搭載  
- **データ保持期間が長く、リフレッシュ不要**  
- エラー訂正や階層管理が不可欠な**システム設計要素も重視**

---

## 🧱 構造と進化

                  ┌───────────────┐
                  │   コントローラ   │
                  └───────────────┘
                    │││││││││││
           ┌─────────────────────────┐
           │   多層セルアレイ（垂直積層） │ ← 64層〜500層超
           └─────────────────────────┘

- **Charge Trap / Floating Gate**：電荷捕獲による不揮発記憶
- **TLC（Triple-Level Cell）/ QLC**：1セルで2〜4ビット記憶（高密度化）
- **階層的アクセス管理**：ページ・ブロック・ダイ単位で読み書き制御

---

## 📊 特性と比較

| 項目 | 3D NAND | MRAM | SRAM | DRAM |
|------|---------|------|------|------|
| 不揮発性 | ◎ | ◎ | × | × |
| 書換回数 | △（10⁴〜10⁵） | ◎ | ◎ | ◎ |
| 書換速度 | ×（µs〜ms） | ◎ | ◎ | ○ |
| 容量 | ◎（TBクラス） | ○ | △ | ◎ |
| 面積効率 | ◎ | △ | △ | ◎ |

---

## 🧭 SoC設計との関係

- 通常は**外部インタフェース**（eMMC, UFS, NVMe）で接続  
- ファームウェアやログ保存などの**コードストレージ領域**として使用  
- 書換回数制限のため、**ウェアレベリング・ECC・キャッシュ制御**が重要

---

## 📌 階層構成と設計観点

- **ブロック単位での消去 → 書換コスト高**
- **ページ単位での書込み**
- コントローラが**アドレス変換・エラー訂正（LDPCなど）・スケジューリング**を担当
- システムとしては「**NANDの生メモリではなく、ファイルシステムとの一体設計**」が必要

---

## ⚠️ 注意点と制約

- 書換え回数制限あり（TLC/QLCでは数千回〜数万回）
- 温度や電源変動による**データ保持劣化**
- **読み出し干渉（read disturb）**や**リテンション劣化**への対策が必要

---

## 📚 教材的意義

- メモリ構造だけでなく、**制御系との連携が必要なメモリ**であることを理解
- ストレージとロジックの**階層分離と接続の重要性**を示す好例
- 組込み用途での**eMMC/UFS評価、寿命設計**にも通じる

---

## 🔗 関連章（参照）

- [mram.md](./mram.md)：不揮発性を重視した他方式との比較  
- [基礎編 第6章](../chapter6_test_and_package/)：パッケージ信頼性、耐熱耐圧特性との関係  
- [応用編 第7章](../d_chapter7_automation_and_verification/)：書換劣化と自動検証技術

---

© 2025 Shinichi Samizo / MIT License
