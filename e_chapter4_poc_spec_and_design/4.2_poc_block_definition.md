---
layout: default
title: 実践編 第4章 4.2節 PoC構成ブロックの仕様定義
---

# 🧩 4.2 PoC構成ブロックの仕様定義  
**4.2 Functional Specifications of PoC Design Blocks**

---

## 📝 本節の目的｜Purpose of This Section

本節では、PoC設計に含まれる3つの基本ブロック（FSM、MUX、Adder）について、  
**機能仕様・I/O信号・動作内容・設計意図**を明確に定義し、  
後続のRTL設計・物理設計へのスムーズな展開を可能にします。

This section defines the **functional specifications and I/O signals** of the three basic PoC blocks: FSM, MUX, and Adder.

---

## 🔁 1. FSM（有限状態機械）｜Finite State Machine

### ✅ 目的｜Purpose
クロック同期型の状態遷移回路を学び、**状態制御と出力制御の基本構造**を理解する。  
Understand the basics of **clocked state transitions and output control**.

### 🧭 状態遷移仕様｜State Transition Table

| 現状態｜Current | 入力signal | 次状態｜Next | 出力flag |
|------------|--------------|--------------|------------|
| `IDLE`     | 0            | `IDLE`       | 0          |
| `IDLE`     | 1            | `LOAD`       | 0          |
| `LOAD`     | -            | `EXEC`       | 0          |
| `EXEC`     | -            | `DONE`       | 1          |
| `DONE`     | -            | `IDLE`       | 0          |

### 🔌 入出力定義｜I/O Signals

| 信号名｜Signal | 種別｜Type | 説明｜Description |
|---------------|--------|------|----------------------------|
| `clk`         | 入力   | Clock | クロック信号 |
| `rst_n`       | 入力   | Reset (Active-Low) | 非同期リセット |
| `start`       | 入力   | Trigger | 状態遷移の開始信号 |
| `flag_done`   | 出力   | Flag | 処理完了を示すフラグ（DONE時High） |

---

## 🔀 2. MUX（2:1マルチプレクサ）｜2:1 Multiplexer

### ✅ 目的｜Purpose
基本的な組合せ論理回路を理解し、**Verilog記述やレイアウト評価**に慣れる。  
Learn **combinational logic** and layout implications.

### 📐 真理値表｜Truth Table

| `SEL` | `A` | `B` | `Y`（出力） |
|-------|-----|-----|--------------|
| 0     | 0   | 1   | 0            |
| 0     | 1   | 0   | 1            |
| 1     | 0   | 1   | 1            |
| 1     | 1   | 0   | 0            |

※ 上記は例。通常の `Y = SEL ? B : A` の仕様にも対応可能。

### 🔌 入出力定義｜I/O Signals

| 信号名｜Signal | 種別｜Type | 説明｜Description |
|---------------|--------|------|-----------------------------|
| `A`           | 入力   | Input | 入力信号 A |
| `B`           | 入力   | Input | 入力信号 B |
| `SEL`         | 入力   | Select | 選択信号 |
| `Y`           | 出力   | Output | 出力信号（A/Bのいずれか） |

---

## ➕ 3. Adder（4ビット加算器）｜4-bit Ripple Carry Adder

### ✅ 目的｜Purpose
ビットバス演算・キャリープロパゲーションを理解し、**演算処理のRTL構造**を習得する。  
Understand **bit-bus arithmetic and carry propagation**.

### 🔌 入出力定義｜I/O Signals

| 信号名｜Signal | 種別｜Type | ビット幅｜Width | 説明｜Description |
|---------------|--------|----------|-----------|-----------------------------|
| `A`           | 入力   | [3:0]     | 加算入力 A |
| `B`           | 入力   | [3:0]     | 加算入力 B |
| `SUM`         | 出力   | [3:0]     | 計算結果 |
| `COUT`        | 出力   | 1bit      | キャリー出力（繰り上がり） |

---

## 🧠 各ブロックの設計意義と展開性｜Significance and Expandability

| ブロック｜Block | 学習項目｜Learning Focus | 拡張先例｜Possible Expansion |
|--------------|-----------------------|------------------------------|
| FSM          | 状態制御、同期論理    | UART制御、SPI制御、I/F制御 |
| MUX          | 組合せ論理、選択構造  | ALU内部選択、アドレス分岐 |
| Adder        | バス演算、タイミング制御 | ALU、DSP、乗算器など       |

---

## 🔗 次節への接続｜Next Section

次節 [4.3：Sky130 設計制約](4.3_sky130_design_constraints.md) では、  
これらのPoCブロックを Sky130 上で安全かつ正確に動作させるために必要な、  
**電源・クロック制約、DRCルール、レイアウト制限などの設計制約項目**を詳述します。

---

## 🔙 戻る｜Back to Chapter Top

[⬅️ 第4章トップへ戻る｜Back to Chapter 4 Top](README.md)
