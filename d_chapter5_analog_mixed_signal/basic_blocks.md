# 🔧 アナログ基本回路構成：Op-Amp、Buffer、Comparator

---

## 📘 概要

アナログ／ミックスドシグナル設計では、**演算増幅器（Op-Amp）やコンパレータ、バッファなどの基本ブロック**が多くの回路の構成要素となります。  
これらの構成と動作原理を理解することは、ADC/DAC設計や電源制御などの応用回路へ進む上での基盤となります。

---

## 🧪 1. 演算増幅器（Operational Amplifier, Op-Amp）

| 特徴 | 説明 |
|------|------|
| 高ゲイン | 微小な差分入力でも大きな出力変化を生成 |
| 差動入力 | 2つの入力端子（Vin+ / Vin−）を持つ |
| 負帰還設計 | 安定動作や所望のゲイン制御に使用される |
| 主用途 | 電圧増幅、積分器、フィルタ、電圧フォロワ等 |

📌 **基本構成**
- 差動入力ペア（NMOS or PMOS）
- 電流ミラー型アクティブ負荷
- 出力ステージ（クラスAB等）

📎 **設計指標**
- DCゲイン、帯域幅、スルーレート、CMRR、PSRR

---

## 🔁 2. バッファ（Voltage Follower）

| 特徴 | 説明 |
|------|------|
| ゲイン1（ユニティ） | 入力をそのまま出力へコピー |
| 高入力インピーダンス | 信号源への負荷を軽減 |
| 低出力インピーダンス | 後段駆動能力を向上 |
| 主用途 | センサ出力、ADC入力、信号絶縁、レベルシフト後段など |

📎 Op-Amp＋負帰還で構成される「ユニティゲイン構成」が代表例。

---

## ⚖️ 3. コンパレータ（Comparator）

| 特徴 | 説明 |
|------|------|
| 2つの入力電圧を比較 | Vin+ > Vin− ならHigh出力、逆ならLow出力 |
| 高速応答 | ゲインが高く、ヒステリシス制御可能 |
| クロスオーバ判定 | ゼロクロス検出やしきい値超過判定に使用 |
| 主用途 | A/D変換、ゼロクロス検出、デジタル制御回路のトリガ等 |

📎 オペアンプに近いが、**負帰還をかけない構成**で設計される。

---

## ⚙️ 補足ブロック：電流ミラー、バイアス回路

- **電流ミラー**：一定電流源としてOp-Ampやバッファの動作を安定化
- **バイアス回路**：リファレンス電圧・電流生成用。プロセス変動や温度補償付き構成が一般的（例：Bandgap）

---

## 🎯 教材的ポイント

- 回路ごとの**入力／出力の関係と動作原理**を押さえる
- SPICEシミュレーションでDCスイープ、過渡応答、ステップ応答などを観察
- 回路動作だけでなく、**レイアウトでの対称性やマッチングの影響**も後続章で理解

---

## 🔗 次のセクション

- [`layout_considerations.md`](./layout_considerations.md)：アナログレイアウトの設計注意点へ

---

© 2025 Shinichi Samizo / MIT License
