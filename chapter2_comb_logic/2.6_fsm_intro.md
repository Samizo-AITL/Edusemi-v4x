---
layout: default
title: 2.6 æœ‰é™çŠ¶æ…‹æ©Ÿæ¢°ï¼ˆFSMï¼‰ã®å°å…¥ã¨çŠ¶æ…‹åˆ¶å¾¡ã®åŸºæœ¬
---

---

# 2.6 æœ‰é™çŠ¶æ…‹æ©Ÿæ¢°ï¼ˆFSMï¼‰ã®å°å…¥ã¨çŠ¶æ…‹åˆ¶å¾¡ã®åŸºæœ¬  
**2.6 Introduction to Finite State Machine (FSM) and State Control**

---

## ğŸ¯ æœ¬ç¯€ã®ã­ã‚‰ã„ï½œGoal of This Section

æœ¬ç¯€ã§ã¯ã€ã“ã‚Œã¾ã§æ‰±ã£ã¦ããŸ**çµ„ã¿åˆã‚ã›å›è·¯ï¼ˆCombinational Logicï¼‰**ã®çŸ¥è­˜ã‚’è¸ã¾ãˆã¦ã€  
**æœ‰é™çŠ¶æ…‹æ©Ÿæ¢°ï¼ˆFSMï¼‰**ã®è€ƒãˆæ–¹ã¨åŸºæœ¬æ§‹æˆã‚’å­¦ã³ã¾ã™ã€‚  
> This section introduces the concept and structure of **Finite State Machines (FSMs)** based on prior knowledge of combinational logic.

FSMã¯**æ™‚é–“ã¨çŠ¶æ…‹ã«ä¾å­˜ã—ã¦å‹•ä½œã™ã‚‹é †åºå›è·¯**ã§ã‚ã‚Šã€  
SoCã‚„åˆ¶å¾¡å›è·¯è¨­è¨ˆã«ä¸å¯æ¬ ãªä¸­æ ¸æ¦‚å¿µã§ã™ã€‚

---

## ğŸ”¹ çµ„ã¿åˆã‚ã›å›è·¯ã¨FSMã®é•ã„  
**ğŸ”¸ Difference: Combinational vs. Sequential Logic**

| è¦³ç‚¹ / Viewpoint | çµ„ã¿åˆã‚ã›å›è·¯ / Combinational Logic | FSMï¼ˆé †åºå›è·¯ï¼‰ / FSM (Sequential Logic) |
|------------------|---------------------------------------|-------------------------------------------|
| **å‡ºåŠ›** / Output | å…¥åŠ›ã®ã¿ã«ä¾å­˜ / Depends only on inputs | å…¥åŠ›ã¨çŠ¶æ…‹ã«ä¾å­˜ / Depends on inputs + state |
| **è¨˜æ†¶è¦ç´ ** / Memory | ãªã— / None | çŠ¶æ…‹ãƒ¬ã‚¸ã‚¹ã‚¿ã‚ã‚Š / Has state registers |
| **ä¾‹** / Examples | AND, OR, MUX | Counter, Serial Receiver, Controller |

---

## ğŸ”¹ FSMã®åŸºæœ¬æ§‹æˆï½œBasic Structure of FSM

FSMã¯ä»¥ä¸‹ã®**3è¦ç´ **ã‹ã‚‰æ§‹æˆã•ã‚Œã¾ã™ï¼š  
> FSM consists of the following three components:

1. **çŠ¶æ…‹ï¼ˆStateï¼‰ / State**ï¼šç¾åœ¨ã®å†…éƒ¨å‹•ä½œãƒ¢ãƒ¼ãƒ‰ã‚’è¨˜æ†¶  
2. **çŠ¶æ…‹é·ç§»ï¼ˆTransitionï¼‰ / Transition**ï¼šæ¡ä»¶ã«å¿œã˜ã¦æ¬¡ã®çŠ¶æ…‹ã¸ç§»å‹•  
3. **å‡ºåŠ›ï¼ˆOutputï¼‰ / Output**ï¼šç¾åœ¨ã®çŠ¶æ…‹ã‚„å…¥åŠ›ã«åŸºã¥ã„ã¦å‡ºåŠ›ãŒæ±ºã¾ã‚‹

ğŸ“˜ å›³2.6-1ï¼šFSMã®åŸºæœ¬æ§‹æˆå›³ï½œFSM Structure (Inputâ€“Stateâ€“Output)  
> [ğŸ“ GitHubã§Mermaidãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã‚’ç¢ºèª](https://github.com/Samizo-AITL/Edusemi-v4x/blob/main/chapter2_comb_logic/2.6_fsm_intro.md)
```mermaid
flowchart TD
    A[ğŸ“¥ Input Signal] --> B[ğŸ”„ Next-State Logic]
    B --> C[ğŸ§  State Register]
    C --> D[ğŸ“¤ Output Logic]
    D --> E[ğŸ“¶ Output Signal]
    C -.->|â° Clock| C
```

---

## ğŸ”¹ çŠ¶æ…‹é·ç§»å›³ã¨çŠ¶æ…‹é·ç§»è¡¨  
**ğŸ”¸ State Diagram and State Table**

FSMã®å‹•ä½œã¯æ¬¡ã®æ–¹æ³•ã§è¦–è¦šåŒ–ã§ãã¾ã™ï¼š  
> FSM behavior can be visualized using:

- **çŠ¶æ…‹é·ç§»å›³ / State Transition Diagram**  
- **çŠ¶æ…‹é·ç§»è¡¨ / State Transition Table**

ğŸ“˜ å›³2.6-2ï¼šçŠ¶æ…‹é·ç§»å›³ã®ä¾‹ï¼ˆS0 â‡„ S1ï¼‰ï½œExample State Diagram  



---

## ğŸ”¹ Mooreå‹ã¨Mealyå‹ FSM  
**ğŸ”¸ Moore vs. Mealy Machine**

| å‹ / Type | å‡ºåŠ›ä¾å­˜ / Depends on | ç‰¹å¾´ / Characteristics |
|-----------|------------------------|--------------------------|
| **Mooreå‹** | çŠ¶æ…‹ã®ã¿ / Only state | å‡ºåŠ›ãŒå®‰å®šã€è¨­è¨ˆã—ã‚„ã™ã„ / Stable outputs, easier to design |
| **Mealyå‹** | çŠ¶æ…‹ï¼‹å…¥åŠ› / State + input | å‡ºåŠ›ãŒå³æ™‚åå¿œã€å›è·¯ã¯å°å‹åŒ–å¯èƒ½ / Immediate response, more compact |

ğŸ“˜ å›³2.6-3ï¼šMooreå‹ã¨Mealyå‹ã®æ§‹æˆæ¯”è¼ƒå›³  
<img src="./images/chapter2_fsm_moore_mealy.png" alt="å›³2.6-3 Mooreå‹ã¨Mealyå‹ã®FSMæ¯”è¼ƒ" width="80%">

---

## ğŸ”¹ HDLè¨˜è¿°ã¨ã®æ¥ç¶šï¼ˆæ¦‚è¦ï¼‰  
**ğŸ”¸ HDL (Verilog) Example â€“ Basic FSM**

FSMã¯**HDLï¼ˆHardware Description Languageï¼‰**ã‚’ä½¿ã£ã¦è¨˜è¿°ã•ã‚Œã¾ã™ã€‚  
ä»¥ä¸‹ã¯ç°¡æ˜“çš„ãªFSMã®ä¾‹ã§ã™ï¼š

```verilog
always @(posedge clk) begin
  case (state)
    S0: if (in) state <= S1;
    S1: if (!in) state <= S0;
  endcase
end
```

> â€»è©³ç´°ãªFSMè¨­è¨ˆã¯ã€**ç¬¬5ç« ï¼šRTLè¨­è¨ˆç·¨**ã§æ‰±ã„ã¾ã™  
> Detailed FSM coding will be covered in **Chapter 5 (RTL Design)**.

---

## âœ… ã¾ã¨ã‚ï½œSummary

| ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª | ğŸ‡ºğŸ‡¸ English |
|-----------|------------|
| FSMã¯**çŠ¶æ…‹ã«å¿œã˜ã¦å‹•ä½œã™ã‚‹é †åºå›è·¯**ã§ã‚ã‚‹ | FSM is a **sequential circuit that depends on state** |
| çµ„ã¿åˆã‚ã›å›è·¯ã«**ã‚¯ãƒ­ãƒƒã‚¯ï¼‹ãƒ¬ã‚¸ã‚¹ã‚¿è¦ç´ **ã‚’åŠ ãˆãŸæ§‹æˆ | FSM adds **clock and memory** to combinational logic |
| è¨­è¨ˆã§ã¯**çŠ¶æ…‹å›³ãƒ»çŠ¶æ…‹è¡¨ãƒ»HDLè¨˜è¿°**ã‚’æ´»ç”¨ã™ã‚‹ | Use **state diagrams, tables, and HDL** to design FSMs |
| æœ¬ç¯€ã¯æ¦‚å¿µç†è§£ãŒä¸­å¿ƒã€å®Ÿè£…ã¯ä»Šå¾Œã®ç« ã§å­¦ã¶ | This section focuses on concept; implementation comes later |

---

ğŸ“ å‰ç¯€ï¼š[`2.5_half_full_adder.md`](./2.5_half_full_adder.md)  
ğŸ“ æ¬¡ç¯€ï¼š[`2.7_component_relationships.md`](./2.7_component_relationships.md)  
> **Next**: æ•´åˆçš„ãªè«–ç†ãƒ–ãƒ­ãƒƒã‚¯è¨­è¨ˆã¸ â€“ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ ã¨é€£æºè¨­è¨ˆã¸

---

[â† æˆ»ã‚‹ / Back to Chapter 2: Combinational Logic Top](./README.md)
