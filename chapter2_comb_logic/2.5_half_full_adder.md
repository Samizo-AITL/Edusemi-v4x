# 2.5 半加算器と全加算器の構成

本節では、デジタル回路で最も基本的かつ重要な演算処理の1つである **加算器（Adder）** について学びます。  
まずは 1 ビット同士の加算を行う **半加算器（Half Adder）** と、キャリー入力を含めた **全加算器（Full Adder）** の構成と動作を理解します。

---

## 🔹 半加算器（Half Adder）

- **入力**：A, B（1ビット）
- **出力**：
  - Sum（S） = A ⊕ B
  - Carry（C） = A・B

### 真理値表：

| A | B | S = A ⊕ B | C = A・B |
|---|---|-----------|----------|
| 0 | 0 |     0     |    0     |
| 0 | 1 |     1     |    0     |
| 1 | 0 |     1     |    0     |
| 1 | 1 |     0     |    1     |

📘 図2.5-1：半加算器の構成図  

```
   A ─────────────┐
                 ▼
               ┌────┐
               │XOR │───▶ Sum（S）
               └────┘
                 ▲
   B ─────────────┘

   A ─────┐
          ▼
        ┌────┐
        │AND │───▶ Carry（C）
        └────┘
          ▲
   B ─────┘
```

- **XOR** で Sum を生成し、**AND** で Carry（繰り上げ）を生成します。

---

## 🔹 全加算器（Full Adder）

- **入力**：A, B, C<sub>in</sub>（キャリー入力）
- **出力**：
  - Sum（S） = A ⊕ B ⊕ C<sub>in</sub>
  - Carry（C<sub>out</sub>） = A・B + B・C<sub>in</sub> + A・C<sub>in</sub>

### 真理値表：

| A | B | C<sub>in</sub> | S | C<sub>out</sub> |
|---|---|----------------|---|-----------------|
| 0 | 0 | 0              | 0 | 0               |
| 0 | 0 | 1              | 1 | 0               |
| 0 | 1 | 0              | 1 | 0               |
| 0 | 1 | 1              | 0 | 1               |
| 1 | 0 | 0              | 1 | 0               |
| 1 | 0 | 1              | 0 | 1               |
| 1 | 1 | 0              | 0 | 1               |
| 1 | 1 | 1              | 1 | 1               |

📘 図2.5-2：全加算器の構成図（2段構成）  
![図2.5-2 Full Adder構成](../images/chapter2_full_adder.png)

- **XOR回路を2段重ね**、Carry出力は **AND/OR回路の組合せ** で実現します。

---

## 🔹 多ビット加算器への拡張

全加算器を複数段直列に接続することで、**nビット加算器**を構成できます。

- 各段の C<sub>out</sub> を次段の C<sub>in</sub> へ接続
- リップルキャリー加算器として、動作はシンプルながらも**遅延が段数に比例**します

📘 図2.5-3：4ビット加算器（リップルキャリー方式）  
![図2.5-3 Ripple Carry Adder](../images/chapter2_ripple_adder.png)

---

## ✅ まとめ

- 半加算器は **1ビットの加算**を最小構成で実現
- 全加算器は **キャリー入力付きの基本加算回路**
- 加算器は演算器（ALU）やプロセッサの中核ブロックとして使用される
- 次章では、**クロックによる順序動作（FSM）** の導入へと進む

---

📎 次節：[`2.6_fsm_intro.md`](./2.6_fsm_intro.md)
