# 🧪 CMP対応のダミーパターンと均一化設計

---

## 📘 概要

CMP（Chemical Mechanical Polishing）は、配線層を**平坦化（planarization）**する工程であり、**レイアウト設計にも大きな影響**を及ぼします。

本節では、CMP不均一による問題と、**ダミーパターン（Metal Fill）**を用いた設計対応を解説します。

---

## 🧩 CMPとは

| 項目 | 内容 |
|------|------|
| 目的 | 層間の平坦化（段差解消） |
| 工法 | スラリー＋研磨パッドで物理研磨 |
| 適用 | メタル層間、STI（Shallow Trench Isolation）など |
| 問題点 | 配線密度が不均一だと研磨量に偏差 → オーバー研磨 or アンダー研磨 |

---

## ⚠️ CMP非均一性による不良要因

- **配線密度の違いで研磨量が変わる**
- 結果として：
  - **Via露出不足**
  - **Metal断線・短絡**
  - **誘電膜厚不均一 → クロストーク上昇**

---

## 🧱 Metal Fill（ダミーパターン）の挿入

| 種類 | 用途 | 配慮点 |
|------|------|--------|
| Dummy Metal | 配線間の空白部を埋める | 隣接信号との距離確保（カップリング抑制） |
| Dummy Via | 積層時のVia密度均一化 | 構造対称性の確保 |
| Dummy Poly | ゲート間距離の均一化 | 特性影響を避ける配置要件あり |

---

## 📐 Density Rule（密度ルール）

PDKには、以下のようなルールが指定される：

- **局所密度：40〜60%**（例：100μm × 100μm範囲内）
- 層ごとの**平均密度制約**
- 一定以上の空白には**自動Fill挿入**

→ 多くのEDAツールで**自動Metal Fill機能**があり、Tapeout前に実施

---

## 🛠️ 実務上の工夫

- Fill領域に **Dummy Net** を割り当ててノイズ影響を抑制
- **クロック・高速信号付近は除外設定**（除外リージョン）
- Latch-up防止の**Guard Ring**との併用にも注意

---

## 🎯 教材的意義

- 「なぜ空白を埋めるのか」を**物理現象から理解**
- 自動化された設計でも、**原理と制約の理解が不可欠**
- 信頼性とプロセス安定性が**設計で確保できる**ことを実感

---

## 🔗 次のセクション

- [`ir_drop_and_em.md`](./ir_drop_and_em.md)：IRドロップとエレクトロマイグレーション対策へ

---

© 2025 Shinichi Samizo / MIT License
