# 🔋 IRドロップとエレクトロマイグレーション（EM）対策

---

## 📘 概要

配線抵抗や電流密度が設計値を超えると、**電源電圧の低下（IRドロップ）**や**金属の物理的損傷（EM）**が発生し、回路の動作不良や寿命低下につながります。

本節では、**電源レイアウトの設計ポイントと物理的な破壊メカニズム**を整理します。

---

## ⚡ IRドロップとは

| 要因 | 内容 |
|------|------|
| 配線抵抗（R） | 電源・GNDメタルが細い／長い |
| 電流（I） | ロジックやI/Oで大電流負荷 |
| 電圧降下（V = I×R） | 電源ラインに想定外のドロップが発生 |
| 結果 | ゲートしきい値変化・動作遅延・誤動作リスク上昇 |

---

## 🔥 エレクトロマイグレーション（EM）とは

| 要因 | 内容 |
|------|------|
| 高電流密度 | 金属原子が移動（原子フラックス） |
| 配線断線 | Void（空洞）や hillock（盛り上がり）発生 |
| 長期信頼性 | 長時間で劣化蓄積 → 製品寿命低下 |
| 対象 | Metal層・Via・コンタクトなど導通部すべて |

---

## 🛠️ 設計対応と実装ポイント

| 対策項目 | 内容 |
|----------|------|
| パワーグリッド強化 | GND/VDD配線を多層化・太配線化 |
| IRシミュレーション | Dynamic IR / Static IR のツール活用 |
| Via冗長化 | 複数Via配置で局所集中を緩和 |
| EMチェック | EDAツールで電流密度分布を解析 |
| Current Aware Routing | 電流密度を意識した自動配線制御 |
| 除外領域設定 | 高速クロック／敏感アナログ部分は保護設計併用 |

---

## 📐 設計ルールの一例（例：0.18μm世代）

- **IRドロップ許容値**：最大 100mV（タイミング確保のため）
- **EM電流密度上限**：1~2 MA/cm²（温度依存性あり）
- **Via配置数**：1本あたり最大電流 2〜5mAを目安

---

## 🎯 教材的意義

- 抽象的な「IRドロップ」を**電圧降下とタイミング変動**で理解
- EM対策を**長寿命製品と信頼性設計**の要素として捉える
- 配線設計の物理現象と設計判断をつなげる思考の訓練に

---

## 🔗 次のセクション

- [`latchup_prevention.md`](./latchup_prevention.md)：寄生構造とラッチアップ対策へ

---

© 2025 Shinichi Samizo / MIT License
