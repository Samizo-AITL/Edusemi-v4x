# ğŸ’» Verilogã«ã‚ˆã‚‹FSMè¨˜è¿°

---

## ğŸ“˜ FSMã®HDLè¨˜è¿°ã¨ã¯

FSMï¼ˆæœ‰é™çŠ¶æ…‹æ©Ÿæ¢°ï¼‰ã®è«–ç†æ§‹é€ ã‚’ã€HDLï¼ˆHardware Description Languageï¼‰ã‚’ä½¿ã£ã¦è¡¨ç¾ã™ã‚‹æ–¹æ³•ã§ã™ã€‚  
Verilogã§ã¯ã€çŠ¶æ…‹é·ç§»ãƒ»å‡ºåŠ›åˆ¶å¾¡ã‚’ `always` ãƒ–ãƒ­ãƒƒã‚¯ã§å®šç¾©ã—ã¾ã™ã€‚

---

## ğŸ§© FSMè¨˜è¿°ã®åŸºæœ¬æ§‹é€ ï¼ˆ3æ®µæ§‹æˆï¼‰

```verilog
module simple_fsm (
  input  wire clk,
  input  wire rst,
  input  wire in,
  output reg  out
);

  typedef enum reg [1:0] {S0, S1, S2} state_t;
  state_t state, next_state;

  // 1. çŠ¶æ…‹é·ç§»ï¼ˆæ¬¡çŠ¶æ…‹ã®æ±ºå®šï¼‰
  always @(*) begin
    case (state)
      S0: next_state = in ? S1 : S0;
      S1: next_state = in ? S2 : S1;
      S2: next_state = S0;
      default: next_state = S0;
    endcase
  end

  // 2. çŠ¶æ…‹ã®æ›´æ–°ï¼ˆã‚¯ãƒ­ãƒƒã‚¯ãƒ»ãƒªã‚»ãƒƒãƒˆï¼‰
  always @(posedge clk or posedge rst) begin
    if (rst) begin
      state <= S0;
    end else begin
      state <= next_state;
    end
  end

  // 3. å‡ºåŠ›ã®ç”Ÿæˆï¼ˆçŠ¶æ…‹ã«å¿œã˜ã¦å‡ºåŠ›åˆ¶å¾¡ï¼‰
  always @(*) begin
    case (state)
      S0: out = 1'b0;
      S1: out = 1'b1;
      S2: out = 1'b0;
      default: out = 1'b0;
    endcase
  end

endmodule
```

## âœ… è¨˜è¿°ã‚¹ã‚¿ã‚¤ãƒ«ã®ãƒã‚¤ãƒ³ãƒˆ

| è¦ç´  | èª¬æ˜ |
|------|------|
| `state` / `next_state` | ç¾åœ¨ã®çŠ¶æ…‹ã¨ã€æ¬¡ã®çŠ¶æ…‹ |
| `always @(*)` | çµ„ã¿åˆã‚ã›è«–ç†ã®è¨˜è¿°ï¼ˆæ¬¡çŠ¶æ…‹ãƒ»å‡ºåŠ›ï¼‰ |
| `always @(posedge clk)` | çŠ¶æ…‹ã®æ›´æ–°ï¼ˆé †åºå›è·¯ï¼‰ |
| `typedef enum` | çŠ¶æ…‹ã‚’åˆ—æŒ™å‹ã§è¨˜è¿°ã™ã‚‹ã¨å¯èª­æ€§ãŒå‘ä¸Š |
| `caseæ–‡` | çŠ¶æ…‹ã”ã¨ã®å‹•ä½œåˆ†å² |

---

## ğŸ›  Tipsï¼šè¨˜è¿°ã®å‹ã‚’å´©ã•ãªã„ã“ã¨

- **æ¬¡çŠ¶æ…‹ï¼å‡ºåŠ›ï¼çŠ¶æ…‹æ›´æ–°** ã®3ãƒ–ãƒ­ãƒƒã‚¯ã«åˆ†ã‘ã‚‹ã®ãŒãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- çŠ¶æ…‹æ•°ãŒå¢—ãˆã‚‹ã¨èª­ã¿ã¥ã‚‰ããªã‚‹ãŸã‚ã€**çŠ¶æ…‹åã‚’æ„å‘³ã‚ã‚‹ã‚‚ã®**ã«ã™ã‚‹
- `default:` ã‚’å¸¸ã«æ›¸ãï¼ˆåˆæˆãƒ„ãƒ¼ãƒ«ã®è­¦å‘Šé˜²æ­¢ï¼‰

---

## ğŸ“ æ•™æçš„æ„ç¾©

- FSMè¨­è¨ˆã®â€œå‹â€ã‚’è¦šãˆã‚‹ã“ã¨ã§ã€ã©ã‚“ãªåˆ¶å¾¡å›è·¯ã‚‚è¨˜è¿°å¯èƒ½ã«ãªã‚‹
- `ã‚¿ã‚¤ãƒŸãƒ³ã‚°è¨­è¨ˆ`ã‚„`æ¤œè¨¼`ã¨ã®æ¥ç¶šãŒæ˜ç¢ºã«ãªã‚‹
- å®Ÿè·µçš„ã«ã¯ã€**éåŒæœŸãƒªã‚»ãƒƒãƒˆ**ã‚„**ãƒ¡ã‚¿å®‰å®šå›é¿**ã¨ã®ä½µç”¨ã‚‚é‡è¦ï¼ˆç™ºå±•ç·¨ã¸ï¼‰

---

ä»¥ä¸Šã§ FSMã®åŸºæœ¬è¨­è¨ˆã€œè¨˜è¿°ãŒå®Œäº†ã§ã™ã€‚  
æ¬¡ç« ã§ã¯ã€å¿œç”¨äº‹ä¾‹ã‚„æ¤œè¨¼æ¼”ç¿’ã¸ã®å±•é–‹ãŒå¯èƒ½ã§ã™ã€‚

