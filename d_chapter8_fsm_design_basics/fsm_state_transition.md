# 🔄 状態遷移図と状態表

---

## 📘 状態の可視化とは？

FSMを設計する際、まず「状態とその遷移」を**図や表**で明確に整理することが重要です。  
視覚的に設計を確認することで、動作の流れや設計ミスを早期に発見できます。

---

## 🌀 状態遷移図（State Diagram）

状態遷移図は、**状態（ノード）と遷移（矢印）**で構成される図です。

```text
    [IDLE]
      |
    start
      ↓
   [WAIT_ACK]
      |
   ack_received
      ↓
    [DONE]
```

- 各円：状態（IDLE, WAIT_ACK, DONE）
- 矢印：状態遷移（トリガとなる入力条件を記載）
- 入力条件付き：条件を満たすと遷移

🛠 作図ツール例：
- テキストベース：PlantUML、Mermaid
- GUIツール：Logisim、Graphviz など

---

## 🗂 状態遷移表（State Table）

状態遷移表は、**状態・入力・次状態・出力**の対応を表形式でまとめたものです。

| 現在の状態 | 入力 | 次の状態 | 出力 |
|------------|------|-----------|-------|
| IDLE       | 0    | IDLE      | 0     |
| IDLE       | 1    | WAIT_ACK  | 0     |
| WAIT_ACK   | 0    | WAIT_ACK  | 0     |
| WAIT_ACK   | 1    | DONE      | 1     |
| DONE       | X    | IDLE      | 0     |

📌 `X` はドントケア。未使用入力や任意値を意味します。

---

## 🔧 設計演習のすすめ方

1. 状態を文章で洗い出す（「入力待ち」「通信中」など）
2. 状態をノードにし、条件付き遷移を描く（状態遷移図）
3. 表形式に落とし込む（状態遷移表）
4. HDL（Verilog）で記述（→次章で扱う）

---

## 🎓 教材的意義

- `状態可視化` により、設計の意図を他者と共有できる
- `遷移表`をベースにすれば、HDL記述もスムーズ
- 実装前の動作仕様整理に有効（＝論理ミスの予防）

---

次は [`fsm_hdl_description.md`](./fsm_hdl_description.md)：VerilogによるFSM記述 に進みます。

