# 🔄 PDKの世代と互換性

---

## 📘 概要

PDK（Process Design Kit）は、特定の半導体プロセスに合わせた設計支援ファイル群です。  
世代をまたぐ互換性や移行性、設計資産の再利用性は、実務でも教育でも重要な観点です。

本節では、**PDKの世代構成・変更要素・互換性管理の実態**について整理し、  
0.18µm ～ FinFET以降までを対象に、設計実務への影響と対応策を学びます。

---

## 🏗️ PDKの基本構成とバージョン管理

| 項目 | 内容 |
|------|------|
| デザインルール（DRC） | 層間距離、配線幅、高さ制限などの寸法規則 |
| デバイスモデル | SPICE等で使われるMOS, BJT, Diode等の動作モデル |
| レイアウト構成 | GDS層情報、マクロセル、ダミーパターン規定など |
| 抽出ルール（LPE） | パラメータ抽出用の寄生容量・抵抗の定義 |
| シンボル・回路図 | 回路エディタとの接続用シンボルと回路ブロック群 |
| スクリプト | DRC/LVS用ルールスクリプトやMakefileなど |

- PDKは通常、**プロセス世代ごとに個別提供**され、**ツール依存の最適化**も含まれる
- バージョン管理には Git が使われる例もあり、Sky130系では `sky130A`, `sky130B` などが並存

---

## 📈 プロセス世代とPDK差異の具体例

| 世代 | 主な違い | 設計上の注意点 |
|------|----------|----------------|
| 0.35µm〜0.18µm | デバイス構造が単純。長チャネル動作前提 | 手動設計が主体、PDKも簡素 |
| 0.13µm〜90nm | 配線遅延が支配的に。RC抽出が必須 | 抽出モデルの精度が設計に直結 |
| 65nm〜28nm | 方位依存、DFM制約、デバイス寄生増加 | レイアウト依存性の制御が重要 |
| FinFET（16nm以下） | トランジスタ構造が非平面化 | モデルの精度・電界効果の再評価が必要 |

---

## 🔄 互換性と設計資産の再利用

### ✔️ 完全互換は難しい

- 回路図・レイアウトはPDK依存性が高く、**PDK間移植には修正が必須**
- 特に **ピン定義・層構成・寄生モデル** が世代間で異なる

### ✔️ 再利用可能な資産

- `RTLコード` や `機能レベルの設計（Verilog, SystemCなど）` はPDK非依存
- **シミュレーションベースの設計資産**や `テストベンチ` も流用可能性あり

---

## 🧪 教育・研究用途での実例：Sky130

- SkyWaterの `sky130A` は、**Sky130 PDKの教育向け標準版**  
  - Magic, Xschem, OpenROAD などと連携可能  
  - OSSツールと組み合わせることで、**プロセス世代非依存の教育実験が可能**

- 将来的に `Sky90`, `Sky65` のようなPDK追加も期待される

---

## 🎯 教材的意義

- PDKの互換性を理解することで、**設計資産の再利用と移植の限界を把握できる**
- プロセス技術の進化に伴う**物理設計制約の変化**を意識できる
- 教育現場では、**Sky130のようなオープンPDKが最適解**となり得る

---

## 🔗 関連資料

- [`pdk_structure.md`](./pdk_structure.md)：PDKの基本構造とファイル群
- [`eda_toolchain.md`](./eda_toolchain.md)：ツールチェーンとの接続
- [`rule_check_flow.md`](./rule_check_flow.md)：DRC/LVS等の検証フロー

---

© 2025 Shinichi Samizo / MIT License
